# CSCC69-A2

## Algorithm Tables
## Trace File: tr-fib.ref
### Algorithm: rand
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  99.5567 |  78379 |  349 | 299 |  143 |  156 |
| 100 |  99.7841 |  78558 |  170 | 70 |  7 |  63 |
| 150 |  99.8171 |  78584 |  144 | 0 |  0 |  0 |
| 200 |  99.8171 |  78584 |  144 | 0 |  0 |  0 |
### Algorithm: fifo
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  99.5719 |  78391 |  337 | 287 |  132 |  155 |
| 100 |  99.7853 |  78559 |  169 | 69 |  0 |  69 |
| 150 |  99.8171 |  78584 |  144 | 0 |  0 |  0 |
| 200 |  99.8171 |  78584 |  144 | 0 |  0 |  0 |
### Algorithm: clock
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  99.6443 |  78448 |  280 | 230 |  96 |  134 |
| 100 |  99.8095 |  78578 |  150 | 50 |  0 |  50 |
| 150 |  99.8171 |  78584 |  144 | 0 |  0 |  0 |
| 200 |  99.8171 |  78584 |  144 | 0 |  0 |  0 |
### Algorithm: lru
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  99.6710 |  78469 |  259 | 209 |  83 |  126 |
| 100 |  99.8133 |  78581 |  147 | 47 |  0 |  47 |
| 150 |  99.8171 |  78584 |  144 | 0 |  0 |  0 |
| 200 |  99.8171 |  78584 |  144 | 0 |  0 |  0 |
### Algorithm: opt
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  99.7803 |  78555 |  173 | 123 |  19 |  104 |
| 100 |  99.8158 |  78583 |  145 | 45 |  0 |  45 |
| 150 |  99.8171 |  78584 |  144 | 0 |  0 |  0 |
| 200 |  99.8171 |  78584 |  144 | 0 |  0 |  0 |

## Trace File: tr-simpleloop.ref
### Algorithm: rand
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  71.2295 |  7311 |  2953 | 2903 |  208 |  2695 |
| 100 |  73.1586 |  7509 |  2755 | 2655 |  48 |  2607 |
| 150 |  73.6068 |  7555 |  2709 | 2559 |  21 |  2538 |
| 200 |  73.6458 |  7559 |  2705 | 2505 |  17 |  2488 |
### Algorithm: fifo
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  71.0834 |  7296 |  2968 | 2918 |  206 |  2712 |
| 100 |  73.1781 |  7511 |  2753 | 2653 |  45 |  2608 |
| 150 |  73.5776 |  7552 |  2712 | 2562 |  16 |  2546 |
| 200 |  73.6555 |  7560 |  2704 | 2504 |  12 |  2492 |
### Algorithm: clock
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  72.8956 |  7482 |  2782 | 2732 |  90 |  2642 |
| 100 |  73.8796 |  7583 |  2681 | 2581 |  2 |  2579 |
| 150 |  73.8893 |  7584 |  2680 | 2530 |  0 |  2530 |
| 200 |  73.8991 |  7585 |  2679 | 2479 |  0 |  2479 |
### Algorithm: lru
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  72.9053 |  7483 |  2781 | 2731 |  92 |  2639 |
| 100 |  73.8991 |  7585 |  2679 | 2579 |  1 |  2578 |
| 150 |  73.9088 |  7586 |  2678 | 2528 |  0 |  2528 |
| 200 |  73.9088 |  7586 |  2678 | 2478 |  0 |  2478 |
### Algorithm: opt
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  74.0452 |  7600 |  2664 | 2614 |  21 |  2593 |
| 100 |  74.3083 |  7627 |  2637 | 2537 |  0 |  2537 |
| 150 |  74.3083 |  7627 |  2637 | 2487 |  0 |  2487 |
| 200 |  74.3083 |  7627 |  2637 | 2437 |  0 |  2437 |

## Trace File: tr-matmul.ref
### Algorithm: rand
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  65.5241 |  1892306 |  995646 | 995596 |  956275 |  39321 |
| 100 |  88.7958 |  2564381 |  323571 | 323471 |  316013 |  7458 |
| 150 |  96.6819 |  2792128 |  95824 | 95674 |  93310 |  2364 |
| 200 |  98.0349 |  2831200 |  56752 | 56552 |  54928 |  1624 |
### Algorithm: fifo
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  60.9666 |  1760686 |  1127266 | 1127216 |  1083225 |  43991 |
| 100 |  62.4806 |  1804410 |  1083542 | 1083442 |  1061222 |  22220 |
| 150 |  98.8087 |  2853547 |  34405 | 34255 |  32944 |  1311 |
| 200 |  98.8267 |  2854068 |  33884 | 33684 |  32434 |  1250 |
### Algorithm: clock
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  63.9453 |  1846709 |  1041243 | 1041193 |  1040082 |  1111 |
| 100 |  63.9533 |  1846940 |  1041012 | 1040912 |  1039835 |  1077 |
| 150 |  98.8503 |  2854748 |  33204 | 33054 |  31975 |  1079 |
| 200 |  98.8609 |  2855055 |  32897 | 32697 |  31622 |  1075 |
### Algorithm: lru
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  63.9459 |  1846728 |  1041224 | 1041174 |  1040070 |  1104 |
| 100 |  65.1500 |  1881502 |  1006450 | 1006350 |  1005275 |  1075 |
| 150 |  98.8614 |  2855069 |  32883 | 32733 |  31658 |  1075 |
| 200 |  98.8618 |  2855081 |  32871 | 32671 |  31596 |  1075 |
### Algorithm: opt
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  79.6585 |  2300499 |  587453 | 587403 |  586321 |  1082 |
| 100 |  96.7869 |  2795159 |  92793 | 92693 |  91612 |  1081 |
| 150 |  99.0786 |  2861342 |  26610 | 26460 |  25379 |  1081 |
| 200 |  99.3331 |  2868692 |  19260 | 19060 |  17980 |  1080 |

## Trace File: tr-blocked.ref
### Algorithm: rand
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  99.6562 |  2409871 |  8313 | 8263 |  5742 |  2521 |
| 100 |  99.7839 |  2412959 |  5225 | 5125 |  3380 |  1745 |
| 150 |  99.8161 |  2413737 |  4447 | 4297 |  2781 |  1516 |
| 200 |  99.8404 |  2414324 |  3860 | 3660 |  2318 |  1342 |
### Algorithm: fifo
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  99.7322 |  2411708 |  6476 | 6426 |  4170 |  2256 |
| 100 |  99.8208 |  2413850 |  4334 | 4234 |  2759 |  1475 |
| 150 |  99.8254 |  2413962 |  4222 | 4072 |  2653 |  1419 |
| 200 |  99.8688 |  2415012 |  3172 | 2972 |  1878 |  1094 |
### Algorithm: clock
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  99.7821 |  2412915 |  5269 | 5219 |  2873 |  2346 |
| 100 |  99.8339 |  2414167 |  4017 | 3917 |  2615 |  1302 |
| 150 |  99.8372 |  2414246 |  3938 | 3788 |  2575 |  1213 |
| 200 |  99.8675 |  2414979 |  3205 | 3005 |  1948 |  1057 |
### Algorithm: lru
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  99.7844 |  2412971 |  5213 | 5163 |  2816 |  2347 |
| 100 |  99.8436 |  2414403 |  3781 | 3681 |  2605 |  1076 |
| 150 |  99.8443 |  2414419 |  3765 | 3615 |  2559 |  1056 |
| 200 |  99.8473 |  2414492 |  3692 | 3492 |  2436 |  1056 |
### Algorithm: opt
| Memory Size | Hit Rate | Hit Count | Miss Count | Overall Eviction Count  | Clean Eviction Count | Dirty Eviction Count |
 |-------------|-------------|----------|-----------|------------|-------------------------|----------------------|
| 50 |  99.8467 |  2414478 |  3706 | 3656 |  2575 |  1081 |
| 100 |  99.8757 |  2415178 |  3006 | 2906 |  1834 |  1072 |
| 150 |  99.8956 |  2415660 |  2524 | 2374 |  1303 |  1071 |
| 200 |  99.9060 |  2415910 |  2274 | 2074 |  1009 |  1065 |

## Algorithms Comparison
Using OPT as the yardstick, we can see that 
FIFO suffered from "Belady's Anomaly" as the Miss Count increased when the algorithm was given more memory.
Clock (with one ref-bit) had a low overhead when given more memory.
Exact LRU on average performed very well (close to OPT) but it is costly to implement.

Overall, OPT was the most optimal due to it selecting the page which was not being used for the longest time (As it 'sees' into the future and will always pick the best possible choice). OPT has the lowest miss count due to the choice of eviction selection.

FIFO did worse than both Exact LRU & Clock (with one ref-bit) since FIFO was using the page's first reference time rather than the page's last reference time which was a more optimal algorithm/page selection choice.

One thing to note is that LRU and Clock had basically a hit rate of about the same in most cases because the algorithm logic is fairly similiar (LRU removes oldest page = Clock removes page that is old enough).

RAND had the worst preformance due to the fact RAND could not take advantage of locality to increase hit counts. For Example: In tr-simpleloop, RAND preformed the worst since the locality of the data being provided was not taken into account during page selection.

| Algorithm | Overall Performance |
|---|---|
| OPT  | Fastest |
| Exact LRU | Faster |
| Clock (with one ref-bit) | Fast |
| FIFO | Slow |
| RAND | Slowest |

## LRU Data Analysis With Increasing Memory
As the data suggests, the hit rate of the Exact LRU Algorithm increases with increasing memory. This is due to the algorithm's improved replacement decision since increasing memory provides it with more storage of recently used pages. The LRU algorithm does not perform well if the data being reused within a relatively small time duration is low but with more memory, it would still have improved performance. Aside from OPT, LRU outperformed the other algorithms and when running on the matmul algorithm with a memory size of 100 and 150, there was a huge jump in performance due to a reduction in the eviction count since 1 entire matrix could be stored in memory. There was not a big difference between 150 and 200 in terms of memory size as the extra space was more of a stagnation point for the data size being tested. In conclusion, Exact LRU's Algorithm increases in performance as memory increases. The lower the memory, the lower the hit count & the higher the eviction count.
